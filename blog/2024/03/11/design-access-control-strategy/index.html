<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">통합 접근 제어 전략을 설계 해보다. | 뉴뉴의 메모장</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://devyuseon.github.io/img/introduce.png"><meta data-rh="true" name="twitter:image" content="https://devyuseon.github.io/img/introduce.png"><meta data-rh="true" property="og:url" content="https://devyuseon.github.io/blog/2024/03/11/design-access-control-strategy"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="통합 접근 제어 전략을 설계 해보다. | 뉴뉴의 메모장"><meta data-rh="true" name="description" content="흩어져 하드코딩되어 있는 권한 관리를 하나로 통합하는 설계를 진행해 보았다."><meta data-rh="true" property="og:description" content="흩어져 하드코딩되어 있는 권한 관리를 하나로 통합하는 설계를 진행해 보았다."><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2024-03-11T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://github.com/devyuseon"><meta data-rh="true" property="article:tag" content="design"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://devyuseon.github.io/blog/2024/03/11/design-access-control-strategy"><link data-rh="true" rel="alternate" href="https://devyuseon.github.io/blog/2024/03/11/design-access-control-strategy" hreflang="en"><link data-rh="true" rel="alternate" href="https://devyuseon.github.io/blog/2024/03/11/design-access-control-strategy" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="뉴뉴의 메모장 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="뉴뉴의 메모장 Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-47JM0E64J5"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-47JM0E64J5",{anonymize_ip:!0})</script><link rel="stylesheet" href="/assets/css/styles.c265e4eb.css">
<script src="/assets/js/runtime~main.74c6e92e.js" defer="defer"></script>
<script src="/assets/js/main.ef3273b9.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/squirrel.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/squirrel.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">뉴뉴의 메모장</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/blog/tags">Tags</a><a class="navbar__item navbar__link" href="/blog/archive">Archive</a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/blog/2024/03/11/design-access-control-strategy">통합 접근 제어 전략을 설계 해보다.</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2024/02/13/2023-retrospect">2023 회고</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2024/02/04/troubleshooting-express-no-response">[TroubleShooting] express가 응답을 보내지 않았다. 왜..?</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2024/01/29/first-opensearch-contribute-docker-compose">오픈소스 첫 기여 ✨</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2024/01/02/java-no-stacktrace">[Java] 에러 메시지, Stacktrace가 생략되는 문제</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="https://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="흩어져 하드코딩되어 있는 권한 관리를 하나로 통합하는 설계를 진행해 보았다."><header><h1 class="title_f1Hy" itemprop="headline">통합 접근 제어 전략을 설계 해보다.</h1><div class="container_mt6G margin-vert--md"><time datetime="2024-03-11T00:00:00.000Z" itemprop="datePublished">March 11, 2024</time> · <!-- -->18 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/devyuseon" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/67352902?v=4" alt="yuseonLim" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/devyuseon" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">yuseonLim</span></a></div><small class="avatar__subtitle" itemprop="description">BackEnd Engineer</small></div></div></div></div></header><div id="__blog-post-container" class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="intro">Intro<a href="#intro" class="hash-link" aria-label="Direct link to Intro" title="Direct link to Intro">​</a></h2>
<p>회사에서 내가 맡은 서비스의 <strong>권한 관리</strong>는 여러 곳에 흩어져 하드코딩 되어 있다. 여기서 권한 관리란 어떤 리소스에 대한 접근 권한을 말한다.</p>
<p>이때 고려되는 요소도 다양하다. 그런데 이번에 새 기능이 추가되어 더욱 더 복잡하게 관리해야 할 상황이 생겼다. REST API도 제공하게 되었다. 이에 권한 관리를 한곳에서 통합해야 할 필요가 생겼고, 이 임무가 나에게(!!) 맡겨졌다.</p>
<p>그래서 설계를 해보며 고려한 요소들과, 이 과정에서 느낀점을 정리해 보려고 한다.</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>조금이라도 민감할 수 있는 회사 내용을 모두 제외하였기 때문에, <strong>앙꼬없는 찐빵</strong>같은 글일 수 있습니다.</p><p><code>ROLE_</code> 형식의 권한 설계가 아닌, 다른 설계를 계획할 때 조금이라도 인사이트가 된다면 좋겠습니다. ☺️</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="고려해야-할-요소">고려해야 할 요소<a href="#고려해야-할-요소" class="hash-link" aria-label="Direct link to 고려해야 할 요소" title="Direct link to 고려해야 할 요소">​</a></h2>
<p>사내 서비스는 망 분리가 되어 있다. 그래서 사내직원 / 외부유저가 로그인 방식이 다르고, 접근하는 도메인도 다르다. 사내직원일 경우 부서별로 어떤 리소스에 대한 접근 권한이 다르다. 특정 부서가 생성한 것은 그 부서만 수정할 수 있다던가 하는 처리가 필요하다. 외부유저일 경우 같은 회사만 열람할 수 있었다. 이걸 모두 하드코딩 하고 있었다. (if ~ else로.)</p>
<p>또, 일반적인 웹 백엔드 API 말고도 REST API 로의 접근도 제공하게 되었다. 이때 Token을 발급받은 유저만 해당 API 를 사용할 수 있다.</p>
<p>이런 요소들을 고민해야 했다. 정리하면 아래와 같다.</p>
<ul>
<li>사내직원 (Jira API 에서 로그인 정보를 가져옴) / 외부유저 (회원 관리 DB가 따로 있음)</li>
<li>사내직원 일 경우 부서 정보에 따라 접 근 권한을 구분해야 함</li>
<li>외부유저일 경우 회사 정보에 따라 접근 권한을 구분해야 함</li>
</ul>
<p>지금까지 부서별 권한을 나누는 일은 없었으나, 이번에 추가되었다. Jira API는 부서 정보를 한글로 된 String으로 반환했다. 만약 조직 개편이 이루어질 경우 <strong>마이그레이션</strong> 도 고려해야 했다.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="전략의-선택">전략의 선택<a href="#전략의-선택" class="hash-link" aria-label="Direct link to 전략의 선택" title="Direct link to 전략의 선택">​</a></h2>
<p>보통 권한관리 시에 Spring으로 어플리케이션을 개발하면 Spring Security로 Role을 부여하여 하곤 한다. 하지만 나의 경우 권한 관리가 이루어 지는 곳은 Express 였고, 회원 관련 정보가 우리 DB에 있는 것이 아니라 외부로부터 가져오는 정보이기 때문에 흔하게 적용하는 방법을 쉽게 쓸 수 없었다.</p>
<p>권한관리를 설계할 때 어떤 전략을 취하는지 조사를 해 보았다. <code>Role Based Access Control (역할 기반 제어)</code> 와 <code>Attribute Based Access Control (속성 기반 제어)</code> 가 가장 많이 취하는 전략이였다.</p>
<p>이 두 전략을 중심으로 설계를 했는데, 리뷰 시간에 PL분께서 인사이트를 제공해 주셔서(!) 해당 리소스별로 권한을 제어하는 방식, 내맘대로 <code>Resource Based Access Control (리소스 기반 제어)</code> 라 이름을 짓고, 이 전략도 추가로 설계했다.</p>
<p>아, 추가로 권한을 관리할 수 있는 오픈소스들 (OPA 등 ...) 이 있긴 했는데, 개발자가 나 혼자라 서비스를 하나 더 추가해 관리하는것이 부담스럽고 그렇게 큰 시스템도 아니라서 이건 제외했다.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="role-based-access-control-역할-기반-접근-제어">Role Based Access Control, 역할 기반 접근 제어<a href="#role-based-access-control-역할-기반-접근-제어" class="hash-link" aria-label="Direct link to Role Based Access Control, 역할 기반 접근 제어" title="Direct link to Role Based Access Control, 역할 기반 접근 제어">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="특징">특징<a href="#특징" class="hash-link" aria-label="Direct link to 특징" title="Direct link to 특징">​</a></h4>
<p>역할에 따라 시스템, 리소스에 대한 사용자 접근 권한을 관리하는 방법이다. 각 개별 사용자에 대해 역할을 부여하고, 어떤 기능에 대해 허용할 역할을 나열해 제어한다.</p>
<p>역할 기반 접근 제어는 다음 특징을 가진다.</p>
<ul>
<li>각 사용자에게는 하나 이상의 역할이 할당된다.</li>
<li>사용자 역할에는 권한이 할당된다.</li>
<li>사용자가 역할을 활성 구성원이 되면 권한에 액세스 할 수 있다.</li>
</ul>
<p>예를들어, 어떤 상품을 판매하는 페이지라면, <code>ROLE_ADMIN</code>, <code>ROLE_SELLER</code>, <code>ROLE_USER</code>와 같은 역할을 정의하고, 그 역할에 따라 제어하게 된다.</p>
<p><strong>역할 정의</strong></p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token property" style="color:hsl(5, 74%, 59%)">&quot;name&quot;</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">&quot;roles/testRole&quot;</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token property" style="color:hsl(5, 74%, 59%)">&quot;title&quot;</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">&quot;billing role&quot;</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token property" style="color:hsl(5, 74%, 59%)">&quot;includedPermissions&quot;</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">[</span><span class="token string" style="color:hsl(119, 34%, 47%)">&quot;paymentStatement.list&quot;</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">&quot;usage.list&quot;</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>역할 부여</strong></p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token property" style="color:hsl(5, 74%, 59%)">&quot;bindings&quot;</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token property" style="color:hsl(5, 74%, 59%)">&quot;role&quot;</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">&quot;roles/testRole&quot;</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token property" style="color:hsl(5, 74%, 59%)">&quot;members&quot;</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">[</span><span class="token string" style="color:hsl(119, 34%, 47%)">&quot;user:viewrain@hohoho.com&quot;</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="장점">장점<a href="#장점" class="hash-link" aria-label="Direct link to 장점" title="Direct link to 장점">​</a></h4>
<ul>
<li>권한에 대한 부여, 회수가 간편하다. 특정 권한을 부여하려면 역할을 부여하고, 뺏으려면 역할을 제거하면 된다. 따라서 유연하고 직관적인 통제가 가능하다.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="단점">단점<a href="#단점" class="hash-link" aria-label="Direct link to 단점" title="Direct link to 단점">​</a></h4>
<ul>
<li>역할이 폭발적으로 늘어날 수 있다. 새 기능이 추가되고, 그 기능에만 허용되는 권한이 생긴다면 새로 역할을 정의하고 부여한다. 이런식으로 반복하면 서비스가 커질수록 그 역할도 함께 늘어난다.</li>
<li>세밀한 권한 정책을 부여할 수 없다.<!-- -->
<ul>
<li>여러 상황을 추상화해서 역할을 만들지만, 딱 맞는 역할을 정하기가 힘들다. 특정 권한에 대해 많은 고려요소가 있는 경우, 하나만 요소가 바뀌어도 다른 역할을 부여해야 하는데 그렇게 너무 작은 단위로 역할을 나누면 자주 변경하게 될 수 있다.</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="우리-서비스에는-">우리 서비스에는 ...<a href="#우리-서비스에는-" class="hash-link" aria-label="Direct link to 우리 서비스에는 ..." title="Direct link to 우리 서비스에는 ...">​</a></h4>
<p>적용하기 쉽지 않았다. 일단 유저에 대한 DB 정보가 우리한테 있는 것이 아니기 때문에, &#x27;회원가입&#x27; 이라는 절차가 없어 유저 정보를 기본적으로 가지고 있지 않다.</p>
<p>로그인 한 적 없는 유저가 로그인하면 자동으로 역할을 판단해 부여한다던가 하는 절차가 필요했다.</p>
<p>그리고, 부서별 역할 정의도 필요하고, 회사별 역할 정의도 필요했다. 너무 많은 역할의 정의가 필요했고, 부여하기 위한 별도 로직이 필요했다. 까딱해서 잘못 판단하면 봐야하는 유저가 못보는 정보가 생길 수도 있었다.</p>
<p>이렇게 되니 더욱 복잡해져서 이 전략은 탈락했다.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="attribute-based-access-control-속성-기반-접근-제어">Attribute Based Access Control, 속성 기반 접근 제어<a href="#attribute-based-access-control-속성-기반-접근-제어" class="hash-link" aria-label="Direct link to Attribute Based Access Control, 속성 기반 접근 제어" title="Direct link to Attribute Based Access Control, 속성 기반 접근 제어">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="특징-1">특징<a href="#특징-1" class="hash-link" aria-label="Direct link to 특징" title="Direct link to 특징">​</a></h4>
<p>주체, 자원 또는 환경의 속성을 기반으로 접근을 제어하는 방식이다. 어떤 사람이 특정 객체에 접근하려 할때 객체의 속성, 사람의 속성, 그때의 환경 정보 등을 다양하게 고려해서 판단한다.</p>
<p>관계는 if ~ then 문으로 정의한다. 예를들면 다음과 같다.</p>
<ul>
<li>직급이 &#x27;주임&#x27; 이상이고, 접근한 ip주소가 000.000.000.000/ 대역대 이고, 해당 게시물을 작성한 사람이 같은팀 일때 액세스 가능하다.</li>
<li>회사 정책에 &quot;토요일 휴무&quot;로 지정되어 있는 경우, 토요일에는 누구도 파일에 액세스할 수 없습니다.
이런 정책을 모두 if ~ then 문으로 정의하는 것이다.</li>
</ul>
<p>나는 &#x27;정책&#x27; 을 저장할 json array를 정의해 하나의 object에는 리소스의 정보와, 접근하려는 유저의 정보, 최종적으로 그것을 allow 할건지 deny 할건지 결정하는 정보를 적어주었다. 예를 들면 다음과 같다.</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token punctuation" style="color:hsl(119, 34%, 47%)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token property" style="color:hsl(5, 74%, 59%)">&quot;id&quot;</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">&quot;policy_1&quot;</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token property" style="color:hsl(5, 74%, 59%)">&quot;description&quot;</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">&quot;A 부서가 만든 파일중 aa타입의 파일은 A 부서만 접근할 수 있습니다.&quot;</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token property" style="color:hsl(5, 74%, 59%)">&quot;condition&quot;</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token property" style="color:hsl(5, 74%, 59%)">&quot;request&quot;</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token property" style="color:hsl(5, 74%, 59%)">&quot;access&quot;</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">&quot;inner&quot;</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// 사내직원</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token property" style="color:hsl(5, 74%, 59%)">&quot;department&quot;</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">&quot;A&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token property" style="color:hsl(5, 74%, 59%)">&quot;resource&quot;</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token property" style="color:hsl(5, 74%, 59%)">&quot;department&quot;</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">&quot;A&quot;</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token property" style="color:hsl(5, 74%, 59%)">&quot;type&quot;</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">&quot;aa&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token property" style="color:hsl(5, 74%, 59%)">&quot;action&quot;</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">&quot;allow&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// 생략</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>이렇게 모든 케이스를 구분해 나열해주는 것이다.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="장점-1">장점<a href="#장점-1" class="hash-link" aria-label="Direct link to 장점" title="Direct link to 장점">​</a></h4>
<ul>
<li>굉장히 세밀한 접근 제어가 가능하다. 거의 모든 경우의 수를 통제할 수 있다.</li>
<li>따라서 표현성, 유연성이 매우 좋다.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="단점-1">단점<a href="#단점-1" class="hash-link" aria-label="Direct link to 단점" title="Direct link to 단점">​</a></h4>
<ul>
<li>시스템 규모가 커지고, 권한에 대한 케이스가 많아질수록 성능 저하가 올 수 있다.</li>
<li>정책을 정의하는 데 많은 시간이 필요하다.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="우리-서비스에는--1">우리 서비스에는 ...<a href="#우리-서비스에는--1" class="hash-link" aria-label="Direct link to 우리 서비스에는 ..." title="Direct link to 우리 서비스에는 ...">​</a></h4>
<p>리소스에 대한 종류가 다양해, 많은 케이스의 정의가 필요했다. 그렇게되면 매번 모든 정책을 훑어봐야 했다. 부서만 몇십개고, 회사는 몇천개였어서 그 정책을 다 한번씩 보는 것은 성능에 문제가 있었다.</p>
<p>그리고 개발자가 나 뿐이라.. 이걸 정의할 사람도 나였고, 실수하게 되면 치명적인 문제가 발생할 것이기 때문에 결국 이것도 탈락했다.</p>
<p>그리고 조직 개편시 마이그레이션도 정책을 모두 살펴보며 String을 찾고 바꿔줘야 하는데, 정책이 많으면 마이그레이션 할때 신뢰성도 떨어지고 오래걸리기 때문에 이건 탈락했다.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="resource-based-access-control-리소스-기반-제어-내맘대로-명칭">Resource Based Access Control, 리소스 기반 제어 (내맘대로 명칭)<a href="#resource-based-access-control-리소스-기반-제어-내맘대로-명칭" class="hash-link" aria-label="Direct link to Resource Based Access Control, 리소스 기반 제어 (내맘대로 명칭)" title="Direct link to Resource Based Access Control, 리소스 기반 제어 (내맘대로 명칭)">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="특징-2">특징<a href="#특징-2" class="hash-link" aria-label="Direct link to 특징" title="Direct link to 특징">​</a></h4>
<p>리소스의 유형을 정의하고, 그것에 대해 특정 유저를 거부할건지 허용할건지 설정해주는 방식이다. 예를 들면 다음과 같다. 회사 정보가 아닌 다른 예시라 조금 엉성할수도 있다 ..</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token punctuation" style="color:hsl(119, 34%, 47%)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token property" style="color:hsl(5, 74%, 59%)">&quot;post&quot;</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token property" style="color:hsl(5, 74%, 59%)">&quot;a&quot;</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            </span><span class="token property" style="color:hsl(5, 74%, 59%)">&quot;USER|kildong.hong&quot;</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                </span><span class="token property" style="color:hsl(5, 74%, 59%)">&quot;allow&quot;</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                    </span><span class="token string" style="color:hsl(119, 34%, 47%)">&quot;read&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">]</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                </span><span class="token property" style="color:hsl(5, 74%, 59%)">&quot;deny&quot;</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                    </span><span class="token string" style="color:hsl(119, 34%, 47%)">&quot;create&quot;</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                    </span><span class="token string" style="color:hsl(119, 34%, 47%)">&quot;update&quot;</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                    </span><span class="token string" style="color:hsl(119, 34%, 47%)">&quot;delete&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            </span><span class="token property" style="color:hsl(5, 74%, 59%)">&quot;GROUP|회계팀&quot;</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// 생략</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            </span><span class="token property" style="color:hsl(5, 74%, 59%)">&quot;ACCESS|사내직원&quot;</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// 생략</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>이렇게 리소스의 유형을 정의하고, 해당 리소스에 접근할 수 있는 유저와 그 유저에게 허용된 행위 정보를 적어준다.</p>
<ul>
<li>a타입 post에 대해 홍길동 유저는 조회 가능하고, 등록 수정 삭제는 할 수 없다.</li>
</ul>
<p>와 같이 말이다.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="장점-2">장점<a href="#장점-2" class="hash-link" aria-label="Direct link to 장점" title="Direct link to 장점">​</a></h4>
<p>얼핏보면 ABAC와 비슷하다고 생각할 수 있는데, 일단 리소스의 타입별로 나누어 성능엔 조금 더 이점이 있을 수 있다. 그리고 user, group, access와 같이 prefix를 정의하고 설정해 유저의 타입을 구분한다. 한눈에 어떤 유저인지, 어떤 타입의 리소스인지 파악이 가능하다. 나중에 설정을 수정하는 어드민 페이지를 개발한다고 해도 이 편이 더 관리하기 쉬울 것이라 생각했다.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="단점-2">단점<a href="#단점-2" class="hash-link" aria-label="Direct link to 단점" title="Direct link to 단점">​</a></h4>
<p>이 경우에도 조직개편시 마이그레이션을 하려면 모든 정책을 한번 다 훑어야 한다.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="우리-서비스에는--2">우리 서비스에는 ...<a href="#우리-서비스에는--2" class="hash-link" aria-label="Direct link to 우리 서비스에는 ..." title="Direct link to 우리 서비스에는 ...">​</a></h4>
<p>위 전략들을 모두 살펴보았을 때, 복잡한 우리 서비스의 상황에 가장 알맞다고 생각했다. 유저에 대한 DB정보가 디폴트로 없는 환경에서 유저의 접속 정보와 아이디 등만 보고 판단할 수 있는 가장 좋은 방법이라고 생각했다.</p>
<p>따라서 이 전략을 더욱 더 고도화 해 적용하기로 했다.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="느낀점">느낀점<a href="#느낀점" class="hash-link" aria-label="Direct link to 느낀점" title="Direct link to 느낀점">​</a></h2>
<p>모든 전략을 살펴볼 때, 간단한 샘플 코드를 작성했다. 정책을 정의하고, 그것을 판단하는 코드를 작성해보고, 실제로 호출도 해보았다.</p>
<p>그렇게 해보며 내가 글로 적은 설계와 코드간의 차이가 무엇인지 파악할 수 있었고 실현 가능성을 판단하는 데에도 도움이 되었다. 실제 구현했을때 코드가 예쁘게 짜지는지 알 수 있었다.</p>
<p>시간은 좀 더 걸렸을 지라도, 실제로 적용해야 하는 사안이기 때문에 신중히 결정하려면 필요한 과정이였다고 생각한다.</p>
<p>이 설계를 진행하면서 기술적인 부분 말고도, 커뮤니케이션에 대한 깨달음도 있었다. 나와 PL분 둘이서 설계-리뷰를 진행했다. 리뷰를 진행하고 다시 설계를 보완해 오는 과정에서, 리뷰에서의 PL님의 말씀과 나의 이해가 다른 경우가 있었다. 내가 이해한 줄 알았는데, 아니였던 거다. 이걸 확인하는 과정이 없다면 그걸 바탕으로 설계하고, 다른 것을 다음 리뷰때 확인하기 때문에 시간을 낭비하게 되었다.</p>
<p>한번 그런 뒤로는 리뷰 받은 후 내가 이해한 것이 맞는지 정리해서 한번 확인을 요 청드렸다. 이렇게 하니까 나도 더 안심이 되었고 쓸데없는 시간 낭비를 줄일 수 있었다.</p>
<p>이 설계를 경험하면서 시스템에 대한 이해도도 더 높아졌다. 그동안은 뭉뚱그려 알고있었던 것들을 확실히 문서로 적어보면서, 정확하게 파악할 수 있었다. 그리고 하드코딩된 소스들을 살펴보며 버그도 발견할 수 있었다.</p>
<p>팀에 웹개발자가 없어(지금은 나뿐,,) 어려울 때도 있지만, 1년차도 안되었는데 이런 설계도 경험할 수 있는 것은 장점이고, 또 내 의견을 표출해볼 수 있는 것도 장점이다. (시간상 못하는게 더 많지만 ..) 아무튼 좋은 경험이였다. 권한이라 함은 무조건 ROLE_ 이렇게 설정하는 줄 알았는데 새로운 접근 방식을 많이 알게 되었다. 얻어가는 게 꽤 많았던 경험이다.</p>
<h1>레퍼런스</h1>
<ul>
<li><a href="https://www.samsungsds.com/kr/insights/cloud_platform_manage.html" target="_blank" rel="noopener noreferrer">https://www.samsungsds.com/kr/insights/cloud_platform_manage.html</a></li>
<li><a href="https://www.okta.com/kr/identity-101/role-based-access-control-vs-attribute-based-access-control/" target="_blank" rel="noopener noreferrer">https://www.okta.com/kr/identity-101/role-based-access-control-vs-attribute-based-access-control/</a></li>
</ul></div><footer class="row docusaurus-mt-lg blogPostFooterDetailsFull_mRVl"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/design">design</a></li></ul></div></footer></article><div></div><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--next" href="/blog/2024/02/13/2023-retrospect"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">2023 회고</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#intro" class="table-of-contents__link toc-highlight">Intro</a></li><li><a href="#고려해야-할-요소" class="table-of-contents__link toc-highlight">고려해야 할 요소</a></li><li><a href="#전략의-선택" class="table-of-contents__link toc-highlight">전략의 선택</a><ul><li><a href="#role-based-access-control-역할-기반-접근-제어" class="table-of-contents__link toc-highlight">Role Based Access Control, 역할 기반 접근 제어</a><ul><li><a href="#특징" class="table-of-contents__link toc-highlight">특징</a></li><li><a href="#장점" class="table-of-contents__link toc-highlight">장점</a></li><li><a href="#단점" class="table-of-contents__link toc-highlight">단점</a></li><li><a href="#우리-서비스에는-" class="table-of-contents__link toc-highlight">우리 서비스에는 ...</a></li></ul></li><li><a href="#attribute-based-access-control-속성-기반-접근-제어" class="table-of-contents__link toc-highlight">Attribute Based Access Control, 속성 기반 접근 제어</a><ul><li><a href="#특징-1" class="table-of-contents__link toc-highlight">특징</a></li><li><a href="#장점-1" class="table-of-contents__link toc-highlight">장점</a></li><li><a href="#단점-1" class="table-of-contents__link toc-highlight">단점</a></li><li><a href="#우리-서비스에는--1" class="table-of-contents__link toc-highlight">우리 서비스에는 ...</a></li></ul></li><li><a href="#resource-based-access-control-리소스-기반-제어-내맘대로-명칭" class="table-of-contents__link toc-highlight">Resource Based Access Control, 리소스 기반 제어 (내맘대로 명칭)</a><ul><li><a href="#특징-2" class="table-of-contents__link toc-highlight">특징</a></li><li><a href="#장점-2" class="table-of-contents__link toc-highlight">장점</a></li><li><a href="#단점-2" class="table-of-contents__link toc-highlight">단점</a></li><li><a href="#우리-서비스에는--2" class="table-of-contents__link toc-highlight">우리 서비스에는 ...</a></li></ul></li></ul></li><li><a href="#느낀점" class="table-of-contents__link toc-highlight">느낀점</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>